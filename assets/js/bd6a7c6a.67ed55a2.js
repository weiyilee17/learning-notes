"use strict";(self.webpackChunkdocusaurus_practice=self.webpackChunkdocusaurus_practice||[]).push([[2231],{7821:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>F,contentTitle:()=>k,default:()=>E,frontMatter:()=>T,metadata:()=>V,toc:()=>C});var s=r(6070),a=r(5710),t=r(758),l=r(3526),i=r(6271),c=r(5557),o=r(8191),d=r(7280),u=r(7985),p=r(815);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function f(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:s,default:a}}=e;return{value:n,label:r,attributes:s,default:a}}))}(r);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function m(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const s=(0,c.W6)(),a=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,d.aZ)(a),(0,t.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(s.location.search);n.set(a,e),s.replace({...s.location,search:n.toString()})}),[a,s])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,a=f(e),[l,i]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a}))),[c,d]=x({queryString:r,groupId:s}),[u,h]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,a]=(0,p.Dv)(r);return[s,(0,t.useCallback)((e=>{r&&a.set(e)}),[r,a])]}({groupId:s}),j=(()=>{const e=c??u;return m({value:e,tabValues:a})?e:null})();(0,o.A)((()=>{j&&i(j)}),[j]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),h(e)}),[d,h,a]),tabValues:a}}var g=r(7805);const y={tabList:"tabList_IgBE",tabItem:"tabItem_vO13"};function b(e){let{className:n,block:r,selectedValue:a,selectValue:t,tabValues:c}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),u=e=>{const n=e.currentTarget,r=o.indexOf(n),s=c[r].value;s!==a&&(d(n),t(s))},p=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":r},n),children:c.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,s.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>o.push(e),onKeyDown:p,onClick:u,...t,className:(0,l.A)("tabs__item",y.tabItem,t?.className,{"tabs__item--active":a===n}),children:r??n},n)}))})}function v(e){let{lazy:n,children:r,selectedValue:a}=e;const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===a));return e?(0,t.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=j(e);return(0,s.jsxs)("div",{className:(0,l.A)("tabs-container",y.tabList),children:[(0,s.jsx)(b,{...n,...e}),(0,s.jsx)(v,{...n,...e})]})}function I(e){const n=(0,g.A)();return(0,s.jsx)(w,{...e,children:h(e.children)},String(n))}const N={tabItem:"tabItem_jnsz"};function S(e){let{children:n,hidden:r,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,l.A)(N.tabItem,a),hidden:r,children:n})}const T={sidebar_position:1},k="Setup",V={id:"fastify/setup",title:"Setup",description:"Installing Fastify",source:"@site/docs/fastify/setup.md",sourceDirName:"fastify",slug:"/fastify/setup",permalink:"/learning-notes/docs/fastify/setup",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"notesSidebar",next:{title:"Creating Routes in Fastify",permalink:"/learning-notes/docs/fastify/routes"}},F={},C=[{value:"Installing Fastify",id:"installing-fastify",level:2},{value:"Creating a Basic Fastify Server",id:"creating-a-basic-fastify-server",level:2},{value:"Running Your Fastify Server",id:"running-your-fastify-server",level:2},{value:"Production",id:"production",level:2}];function A(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setup",children:"Setup"})}),"\n",(0,s.jsx)(n.h2,{id:"installing-fastify",children:"Installing Fastify"}),"\n",(0,s.jsx)(n.p,{children:"To get started with Fastify, you'll need to install it in your project. Make sure you have Node.js installed, then follow these steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a new directory for your project and navigate to it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir my-fastify-project\ncd my-fastify-project\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Initialize a new Node.js project:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm init -y\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn init -y\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm init -y\n"})})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install Fastify and TypeScript dependencies:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install fastify\nnpm install -D typescript @types/node\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn add fastify\nyarn add --dev typescript @types/node\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm add fastify\npnpm add -D typescript @types/node\n"})})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Initialize TypeScript configuration:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsc --init\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsc --init\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx tsc --init\n"})})})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-basic-fastify-server",children:"Creating a Basic Fastify Server"}),"\n",(0,s.jsxs)(n.p,{children:["Once Fastify is installed, you can create a basic server. Create a new file called ",(0,s.jsx)(n.code,{children:"server.ts"})," and add the following code:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="server.ts"',children:"import fastify, { FastifyInstance } from 'fastify';\n\nconst server: FastifyInstance = fastify({ logger: true });\n\n// Declare a route\nserver.get('/', async (request, reply) => {\n  return { hello: 'world' };\n});\n\n// Run the server!\nserver.listen({ port: 8080 }, (err, address) => {\n  if (err) {\n    console.error(err);\n    process.exit(1);\n  }\n  console.log(`Server listening at ${address}`);\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"running-your-fastify-server",children:"Running Your Fastify Server"}),"\n",(0,s.jsx)(n.p,{children:"To run your server in development mode with automatic reloading, follow these steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install ts-node as a dev dependency:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install -D ts-node\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn add --dev ts-node\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm add -D ts-node\n"})})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add the following script to your ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"scripts": {\n  "dev": "node --env-file=.env --watch -r ts-node/register src/index.ts"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run your server using the dev script:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn dev\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm run dev\n"})})})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This command will start your Fastify server using ts-node, which allows you to run TypeScript files directly without compiling them first. It also enables automatic reloading when files change and loads environment variables from a ",(0,s.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["Your Fastify server should now be running on ",(0,s.jsx)(n.code,{children:"http://localhost:8080"})," (or the port specified in your environment variables)."]}),"\n",(0,s.jsx)(n.h2,{id:"production",children:"Production"}),"\n",(0,s.jsx)(n.p,{children:"For production, you'll want to compile your TypeScript code to JavaScript and run the compiled version:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a build script to your ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"scripts": {\n  "dev": "node --env-file=.env --watch -r ts-node/register src/index.ts",\n  "build": "tsc"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Compile your TypeScript code:"}),"\n",(0,s.jsxs)(I,{groupId:"npm2yarn",children:[(0,s.jsx)(S,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})})}),(0,s.jsx)(S,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yarn build\n"})})}),(0,s.jsx)(S,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm run build\n"})})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the compiled JavaScript:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node dist/index.js\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This approach uses the ",(0,s.jsx)(n.code,{children:"tsc"})," command through the ",(0,s.jsx)(n.code,{children:"build"})," script, which is a more standard way of compiling TypeScript in Node.js projects. It also makes it easier to run the build process, especially if you need to add more steps to it in the future."]}),"\n",(0,s.jsxs)(n.p,{children:["For more detailed information, check out the ",(0,s.jsx)(n.a,{href:"https://www.fastify.io/docs/latest/",children:"official Fastify documentation"}),"."]})]})}function E(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(A,{...e})}):A(e)}},5710:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>i});var s=r(758);const a={},t=s.createContext(a);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);