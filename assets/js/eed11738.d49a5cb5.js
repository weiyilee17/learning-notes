"use strict";(self.webpackChunkdocusaurus_practice=self.webpackChunkdocusaurus_practice||[]).push([[4653],{9584:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>u});var s=n(6070),r=n(5710);const o={sidebar_position:2},i="Creating Routes in Fastify",a={id:"fastify/routes",title:"Creating Routes in Fastify",description:"Creating Routes",source:"@site/docs/fastify/routes.md",sourceDirName:"fastify",slug:"/fastify/routes",permalink:"/learning-notes/docs/fastify/routes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"notesSidebar",previous:{title:"Setup",permalink:"/learning-notes/docs/fastify/setup"},next:{title:"Input Validation",permalink:"/learning-notes/docs/fastify/validation"}},c={},u=[{value:"Creating Routes",id:"creating-routes",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"creating-routes-in-fastify",children:"Creating Routes in Fastify"})}),"\n",(0,s.jsx)(t.h2,{id:"creating-routes",children:"Creating Routes"}),"\n",(0,s.jsx)(t.p,{children:"Just like in Express, we can define routes, but index.ts quickly gets messy.\nTo keep things clean, we can create a routes folder and create a file for each route.\nUsing todo as an example, we can define a route for todo with crud operations:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="routes/todo.ts"',children:"async function todoRoutes(fastify: FastifyInstance, options: FastifyPluginOptions) {\n  fastify.get('/', async (request, reply) => {\n    return 'Hello World';\n  });\n}\n\nexport default todoRoutes;\n"})}),"\n",(0,s.jsx)(t.p,{children:"And then we can register it in our server:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="server.ts"',children:"import fastify from 'fastify';\nimport todoRoutes from './routes/todo';\n\nconst server = fastify();\nserver.register(todoRoutes, { prefix: '/todos' });\n"})}),"\n",(0,s.jsxs)(t.p,{children:["For frontend to use the api in development, we can use ",(0,s.jsx)(t.code,{children:"fastify-cors"})," to allow cross-origin requests:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="server.ts"',children:"import cors from '@fastify/cors';\n\nserver.register(cors, {\n  origin: '*',\n});\n"})})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},5710:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var s=n(758);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);